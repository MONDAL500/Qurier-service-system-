<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Courier Service System â€” SOURAV MONDAL</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
:root {
  --bg1: linear-gradient(135deg, #0f172a, #1e3a8a);
  --accent: #06b6d4;
  --accent2: #7c3aed;
  --text-light: #e6eef8;
  --card-bg: rgba(255, 255, 255, 0.05);
}
body.light {
  --bg1: linear-gradient(135deg, #f5f7fa, #dce3f0);
  --accent: #2563eb;
  --accent2: #9333ea;
  --text-light: #1e293b;
  --card-bg: rgba(255, 255, 255, 0.9);
}

* {box-sizing:border-box;font-family:'Poppins',sans-serif;}
html,body {
  height:100%;margin:0;
  color:var(--text-light);
  background:var(--bg1);
  display:flex;align-items:center;justify-content:center;
  padding:24px;overflow:hidden;
}

/* PARTICLE BACKGROUND */
#particles{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;overflow:hidden;}
@keyframes moveParticle {
  0%{transform:translateY(0)scale(1);opacity:.7;}
  50%{transform:translateY(-20px)scale(1.3);opacity:1;}
  100%{transform:translateY(0)scale(1);opacity:.7;}
}
.particle{
  position:absolute;width:9px;height:9px;border-radius:50%;
  background:radial-gradient(circle,#7c3aed,#06b6d4);
  animation:moveParticle 1s ease-in-out infinite;opacity:.10;
}

/* MAIN LAYOUT */
.app{width:100%;max-width:1150px;display:grid;grid-template-columns:420px 1fr;gap:20px;}
.card{
  background:var(--card-bg);border-radius:12px;padding:18px;
  border:1px solid rgba(255,255,255,0.06);
  box-shadow:0 10px 30px rgba(2,6,23,.4);
  backdrop-filter:blur(10px);
}
.card:hover{border-color:var(--accent);transition:all .3s ease;}
h2{margin-top:0;display:flex;justify-content:space-between;align-items:center;}

/* === Sound & Theme Buttons === */
.sound-toggle{
  background:linear-gradient(135deg,#10b981,#06b6d4);
  color:#fff;border:none;border-radius:8px;
  font-size:16px;padding:6px 10px;cursor:pointer;
  transition:transform .2s ease, box-shadow .2s ease;
}
.sound-toggle:hover{transform:scale(1.1);box-shadow:0 0 10px rgba(6,182,212,.6);}
.theme-toggle{
  background:linear-gradient(135deg,#7c3aed,#06b6d4);
  color:#fff;border:none;border-radius:8px;
  font-size:16px;padding:6px 10px;cursor:pointer;
  transition:transform .2s ease, box-shadow .2s ease;
}
.theme-toggle:hover{transform:scale(1.1);box-shadow:0 0 10px rgba(124,58,237,.6);}

label{display:block;font-size:13px;margin-top:10px;}
input,select{
  width:100%;padding:10px;border-radius:8px;
  border:1px solid rgba(255,255,255,0.1);
  background:rgba(0,0,0,0.15);color:inherit;margin-top:6px;
}
input:focus,select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 6px var(--accent2);}
.btn{
  display:inline-block;border:none;padding:10px 14px;border-radius:10px;
  font-weight:700;cursor:pointer;transition:transform .15s,box-shadow .15s;
}
.btn:hover{transform:translateY(-2px);}
.btn.calc{background:linear-gradient(90deg,#10b981,#34d399);color:#fff;}
.btn.add{background:linear-gradient(90deg,#7c3aed,#06b6d4);color:#fff;}
.btn.export{background:linear-gradient(90deg,#2563eb,#3b82f6);color:#fff;}
.btn.clear{background:linear-gradient(90deg,#ef4444,#dc2626);color:#fff;}

.cost{margin-top:10px;padding:12px;border-radius:10px;background:rgba(255,255,255,.05);
display:flex;align-items:center;justify-content:space-between;}
.cost .val{font-weight:800;font-size:20px;}

/* === TABLE === */
table{width:100%;border-collapse:collapse;margin-top:8px;border-radius:10px;overflow:hidden;}
th,td{padding:12px;text-align:left;border:1px solid rgba(255,255,255,0.08);font-size:14px;}
th{background:linear-gradient(90deg,#7c3aed40,#06b6d440);font-size:13px;text-transform:uppercase;}
tr{background:rgba(255,255,255,0.03);}
tr:nth-child(even){background:rgba(255,255,255,0.05);}
tr:hover{background:linear-gradient(90deg,rgba(6,182,212,0.15),rgba(124,58,237,0.15));transform:scale(1.01);}

/* STATUS */
.status-pending,.status-transit,.status-delivered{
  display:inline-block;min-width:90px;text-align:center;font-weight:600;
  padding:6px 10px;border-radius:8px;color:#fff;transition:all .5s ease-in-out;
}
.status-pending{background:linear-gradient(90deg,#facc15,#fbbf24);}
.status-transit{background:linear-gradient(90deg,#3b82f6,#06b6d4);}
.status-delivered{background:linear-gradient(90deg,#10b981,#34d399);}

/* ACTION BUTTONS */
.actions button{margin-right:6px;padding:8px 10px;border-radius:50%;border:none;cursor:pointer;}
.actions button.update{background:linear-gradient(135deg,#3b82f6,#06b6d4);color:#fff;}
.actions button.delete{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;}

/* FOOTER */
.footer-credit{position:fixed;bottom:10px;left:50%;transform:translateX(-50%);
font-size:14px;font-weight:600;color:var(--text-light);opacity:.8;text-shadow:0 0 8px rgba(124,58,237,.6);}
</style>
</head>

<body>
<!-- ğŸµ Background Music (autoplay-safe) -->
<audio id="bg-music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/14/audio_97ceaeeb60.mp3?filename=calm-background-ambient-11157.mp3" type="audio/mp3">
</audio>

<div id="particles"></div>

<div class="app">
  <!-- LEFT PANEL -->
  <div class="card">
    <h2>
      ğŸ“¦ Add Shipment 
      <div style="display:flex;gap:8px;align-items:center;">
        <button class="sound-toggle" id="sound-btn" title="Toggle Sound">ğŸ”‡</button>
        <button class="theme-toggle" id="theme-btn" title="Toggle Theme">ğŸŒ™</button>
      </div>
    </h2>

    <form id="shipment-form">
      <label>ğŸ§‘â€ğŸ’¼ Sender Name <input type="text" id="sender" required></label>
      <label>ğŸ“ Sender Phone <input type="text" id="sphone" required></label>
      <label>ğŸ™ï¸ Origin <input type="text" id="origin" required></label>
      <label>ğŸ“ Destination <input type="text" id="destination" required></label>
      <label>ğŸ‘¤ Receiver Name <input type="text" id="receiver" required></label>
      <label>âš–ï¸ Weight (kg) <input type="number" id="weight" min="0.1" step="0.1" value="1" required></label>
      <label>ğŸšš Service Type
        <select id="service">
          <option value="standard">Standard</option>
          <option value="express">Express (+50%)</option>
          <option value="overnight">Overnight (+100%)</option>
        </select>
      </label>
      <div class="cost"><div>ğŸ’° Estimated Cost</div><div class="val" id="cost-display">â‚¹ 0</div></div>
      <div style="display:flex;gap:10px">
        <button class="btn calc" type="button" id="calc-btn">ğŸ§® Calculate</button>
        <button class="btn add" type="button" id="add-btn">â• Add Shipment</button>
      </div>
    </form>
  </div>

  <!-- RIGHT PANEL -->
  <div class="card">
    <h2>ğŸš€ Shipments</h2>
    <div style="text-align:right;margin-bottom:8px;">
      <button class="btn export" id="export-btn">ğŸ“¤ Export CSV</button>
      <button class="btn clear" id="clear-btn">ğŸ§¹ Clear All</button>
    </div>
    <div style="overflow:auto;max-height:62vh;margin-top:12px;">
      <table id="shipments-table">
        <thead>
          <tr>
            <th>ğŸ†” Tracking ID</th>
            <th>ğŸ‘¥ Sender â†’ Receiver</th>
            <th>ğŸ—ºï¸ Route</th>
            <th>âš–ï¸ Weight</th>
            <th>ğŸ’° Cost</th>
            <th>ğŸš¦ Status</th>
            <th>âš™ï¸ Action</th>
          </tr>
        </thead>
        <tbody id="shipments-body"></tbody>
      </table>
    </div>
  </div>
</div>

<div class="footer-credit">MadeğŸ’™ by <strong>SOURAV MONDAL</strong></div>

<script>
const STORAGE_KEY='courier_shipments_v4';
function loadShipments(){try{return JSON.parse(localStorage.getItem(STORAGE_KEY))||[]}catch{return[]}}
function saveShipments(list){localStorage.setItem(STORAGE_KEY,JSON.stringify(list))}

const sender=document.getElementById('sender'),
sphone=document.getElementById('sphone'),
origin=document.getElementById('origin'),
destination=document.getElementById('destination'),
receiver=document.getElementById('receiver'),
weight=document.getElementById('weight'),
service=document.getElementById('service'),
costDisplay=document.getElementById('cost-display'),
calcBtn=document.getElementById('calc-btn'),
addBtn=document.getElementById('add-btn'),
exportBtn=document.getElementById('export-btn'),
clearBtn=document.getElementById('clear-btn'),
shipmentsBody=document.getElementById('shipments-body'),
themeBtn=document.getElementById('theme-btn'),
soundBtn=document.getElementById('sound-btn'),
bgMusic=document.getElementById('bg-music');

let shipments=loadShipments();
bgMusic.volume=0.25;

// ğŸ”ˆ SOUND TOGGLE
soundBtn.onclick=()=>{
  if(bgMusic.paused){
    bgMusic.play().then(()=>{soundBtn.textContent='ğŸ”ˆ';})
    .catch(()=>alert('Click again to enable sound ğŸ”ˆ'));
  } else {
    bgMusic.pause();
    soundBtn.textContent='ğŸ”‡';
  }
};

// ğŸŒ™ THEME TOGGLE
themeBtn.onclick=()=>{
  document.body.classList.toggle('light');
  themeBtn.textContent=document.body.classList.contains('light')?'ğŸŒ':'ğŸŒ™';
};

// COURIER LOGIC
function calculateCost({origin,destination,weight,service}){
  const base=30,perKg=20;
  const same=origin.trim().toLowerCase()===destination.trim().toLowerCase();
  const distance=same?1:1.2;
  const type=service==='standard'?1:service==='express'?1.5:2;
  return Math.round((base+perKg*weight)*distance*type);
}
function makeTrackingId(){return 'TRK'+Math.random().toString(36).substr(2,6).toUpperCase();}
function renderTable(){
  shipmentsBody.innerHTML='';
  shipments.forEach((s,i)=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`
      <td>${s.id}</td>
      <td>${s.sender} â†’ ${s.receiver}</td>
      <td>${s.origin} â†’ ${s.destination}</td>
      <td>${s.weight}kg</td>
      <td>â‚¹${s.cost}</td>
      <td><span class="status-${s.status}">${s.status}</span></td>
      <td class="actions">
        <button class="update" onclick="updateStatus(${i})">â†»</button>
        <button class="delete" onclick="deleteShipment(${i})">ğŸ—‘ï¸</button>
      </td>`;
    shipmentsBody.appendChild(tr);
  });
}
function updateStatus(i){
  const order=['pending','transit','delivered'];
  let current=shipments[i].status;
  let next=order[(order.indexOf(current)+1)%order.length];
  shipments[i].status=next;
  saveShipments(shipments);
  renderTable();
}
function deleteShipment(i){
  if(confirm("Delete this shipment?")){shipments.splice(i,1);saveShipments(shipments);renderTable();}
}
calcBtn.onclick=()=>{costDisplay.textContent='â‚¹ '+calculateCost({origin:origin.value,destination:destination.value,weight:Number(weight.value),service:service.value});};
addBtn.onclick=()=>{
  const c=calculateCost({origin:origin.value,destination:destination.value,weight:Number(weight.value),service:service.value});
  shipments.push({id:makeTrackingId(),sender:sender.value,sphone:sphone.value,receiver:receiver.value,origin:origin.value,destination:destination.value,weight:Number(weight.value),service:service.value,cost:c,status:'pending'});
  saveShipments(shipments);renderTable();document.getElementById('shipment-form').reset();costDisplay.textContent='â‚¹ 0';
};
exportBtn.onclick=()=>{
  let csv='Tracking ID,Sender,Receiver,Origin,Destination,Weight,Cost,Status\n';
  shipments.forEach(s=>csv+=`${s.id},${s.sender},${s.receiver},${s.origin},${s.destination},${s.weight},${s.cost},${s.status}\n`);
  const blob=new Blob([csv],{type:'text/csv'});const a=document.createElement('a');
  a.href=URL.createObjectURL(blob);a.download='shipments.csv';a.click();
};
clearBtn.onclick=()=>{if(confirm("Clear all shipments?")){shipments=[];saveShipments(shipments);renderTable();}};
function spawnParticles(){
  const p=document.getElementById('particles');
  for(let i=0;i<40;i++){
    const dot=document.createElement('div');
    dot.classList.add('particle');
    dot.style.left=Math.random()*100+'%';
    dot.style.top=Math.random()*100+'%';
    dot.style.animationDuration=(4+Math.random()*4)+'s';
    dot.style.width=dot.style.height=(Math.random()*4+2)+'px';
    p.appendChild(dot);
  }
}
spawnParticles();renderTable();
</script>
</body>
</html>